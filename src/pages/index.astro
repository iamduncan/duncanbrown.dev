---
import Welcome from "../components/Welcome.astro";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/header.astro";
import Footer from "../components/footer.astro";
import { getCollection } from "astro:content";
import getTags from "../scripts/getTags";
import HomePosts from "../components/home-posts.astro";
import Tags from "../components/tags.astro";

const posts = await getCollection("posts");
const tags = getTags(posts);
---

<!doctype html>
<html lang="en-gb">
  <BaseHead />
  <body>
    <Header />
    <main>
      <Welcome />

      <hr />

      <HomePosts allPosts={posts} />

      <p class="center">
        You can also <a href="/feed.xml"> subscribe with RSS! </a>
      </p>
      <br />

      <Tags tags={tags} all />
    </main>

    <Footer />
  </body>
</html>
